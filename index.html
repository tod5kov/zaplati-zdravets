<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<title>–ó–∞–ø–ª–∞—Ç–∏ ‚Äì –í–µ–¥–æ–º–æ—Å—Ç –∏ —Ñ–∏—à–æ–≤–µ</title>

<style>
body { font-family: Arial, sans-serif; padding:20px; background:#f4f6f8; }
h2,h3 { margin:8px 0; }
.toolbar { margin:10px 0 15px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

button { padding:6px 12px; border:1px solid #333; background:#fff; border-radius:6px; cursor:pointer; }

table { border-collapse: collapse; width:100%; background:#fff; }
th,td { border:1px solid #000; padding:5px; font-size:12px; text-align:center; }
th { background:#e8eef5; }
input { width:95px; }

.fish { border:1px solid #000; padding:10px; margin:10px 0; page-break-inside:avoid; }
.cut { border-top:2px dashed #000; margin:12px 0; }

@media print {
  .toolbar, .no-print { display:none !important; }
}
</style>
</head>

<body>

<h2>–ó–∞–ø–ª–∞—Ç–∏ ‚Äì –ï–∫–æ –∫–æ–º–ø–ª–µ–∫—Å ‚Äû–ó–¥—Ä–∞–≤–µ—Ü‚Äú</h2>

<div class="toolbar">
  <label>–ú–µ—Å–µ—Ü:
    <select id="month">
      <option>–Ø–Ω—É–∞—Ä–∏</option><option>–§–µ–≤—Ä—É–∞—Ä–∏</option><option>–ú–∞—Ä—Ç</option>
      <option>–ê–ø—Ä–∏–ª</option><option>–ú–∞–π</option><option>–Æ–Ω–∏</option>
      <option>–Æ–ª–∏</option><option>–ê–≤–≥—É—Å—Ç</option><option>–°–µ–ø—Ç–µ–º–≤—Ä–∏</option>
      <option>–û–∫—Ç–æ–º–≤—Ä–∏</option><option>–ù–æ–µ–º–≤—Ä–∏</option><option>–î–µ–∫–µ–º–≤—Ä–∏</option>
    </select>
  </label>

  <label>–ì–æ–¥–∏–Ω–∞:
    <input type="number" id="year" value="2025" style="width:80px;">
  </label>

  <button onclick="addRow()">‚ûï –°–ª—É–∂–∏—Ç–µ–ª</button>
  <button onclick="generateAll()">üîÑ –ì–µ–Ω–µ—Ä–∏—Ä–∞–π –¥–æ–∫—É–º–µ–Ω—Ç–∏</button>
  <button onclick="window.print()">üñ® –ü–µ—á–∞—Ç</button>
</div>

<table class="no-print">
<thead>
<tr>
<th>–ò–º–µ</th><th>–û—Å–Ω–æ–≤–Ω–∞</th><th>–ß–∞—Å/–º–µ—Å</th><th>–û—Ç—Ä–∞–±.</th>
<th>–°—Ç–∞–≤–∫–∞</th><th>–ó–∞–ø–ª–∞—Ç–∞</th>
<th>–î–Ω–∏</th><th>–ü—ä—Ç–Ω–∏/–¥–µ–Ω</th><th>–ü—ä—Ç–Ω–∏</th>
<th>–î–æ–±–∞–≤–∫–∏</th><th>–û–±—â–æ</th>
<th>–ê–≤–∞–Ω—Å</th><th>–£–¥—Ä—ä–∂–∫–∏</th><th>–û—Å—Ç–∞—Ç—ä–∫</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>

<div id="fishes"></div>
<div id="summary"></div>

<script>
/* ================= SETUP ================= */
const tbody = document.getElementById("tbody");
const monthEl = document.getElementById("month");
const yearEl = document.getElementById("year");

const n = v => Number(v) || 0;
const f = v => n(v).toFixed(2);

/* ================= STORAGE ================= */
function storageKey() {
  return `zaplati_${yearEl.value}_${monthEl.value}`;
}

/* ================= ROW ================= */
function addRow(prefill = {}) {
  const tr = document.createElement("tr");
  tr.innerHTML = `
<td><input class="name" value="${prefill.name||""}"></td>
<td><input class="osn" type="number
